import{_ as i,c as a,a as n,o as t}from"./app-B1k9jWyS.js";const l={};function h(k,s){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="ssl-证书" tabindex="-1"><a class="header-anchor" href="#ssl-证书"><span>SSL 证书</span></a></h1><p>生成 Apache 所需的 SSL 证书。</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 生成CA认证机构的证书密钥key</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 需要设置密码，输入两次</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> genrsa</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -des3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2048</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 比如 123456</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 去除密钥里的密码(可选)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 这里需要再输入一次原来设的密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rsa</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca.key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 用私钥ca.key生成CA认证机构的证书ca.crt</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 其实就是相当于用私钥生成公钥，再把公钥包装成证书</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  req</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -new</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -x509</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca.crt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -days</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3650</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 这个证书ca.crt有的又称为&quot;根证书&quot;,因为可以用来认证其他证书</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 生成自己网站的密钥server.key</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> genrsa</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -des3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2048</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rsa</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 比如 123456</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 生成自己网站证书的请求文件</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 如果找外面的CA机构认证，也是发个请求文件给他们</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 这个私钥就包含在请求文件中了，认证机构要用它来生成网站的公钥，然后包装成一个证书</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> req</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -new</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.csr</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用虚拟的CA认证机构的证书ca.crt，来对自己网站的证书请求文件server.csr进行处理，生成签名后的证书server.crt</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 注意设置序列号和有效期（一般都设1年，这里设了10年）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> x509</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -req</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.csr</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -CA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca.crt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -CAkey</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -set_serial</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.crt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -days</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3650</span></span></code></pre></div>`,3)]))}const p=i(l,[["render",h],["__file","certs.html.vue"]]),r=JSON.parse('{"path":"/notes/other/linux/certs.html","title":"SSL 证书","lang":"zh-CN","frontmatter":{"category":["linux"],"description":"SSL 证书 生成 Apache 所需的 SSL 证书。","head":[["meta",{"property":"og:url","content":"https://www.zhaobc.site/notes/other/linux/certs.html"}],["meta",{"property":"og:site_name","content":"赵斌的小站"}],["meta",{"property":"og:title","content":"SSL 证书"}],["meta",{"property":"og:description","content":"SSL 证书 生成 Apache 所需的 SSL 证书。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-01-17T05:10:50.000Z"}],["meta",{"property":"article:modified_time","content":"2023-01-17T05:10:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SSL 证书\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-01-17T05:10:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Zhao Bin\\",\\"url\\":\\"zhaobc.site\\",\\"email\\":\\"hi@zhaobc.site\\"}]}"]]},"headers":[],"git":{"createdTime":1673932250000,"updatedTime":1673932250000,"contributors":[{"name":"Zhao Bin","email":"413853119@qq.com","commits":1}]},"readingTime":{"minutes":1.12,"words":335},"filePathRelative":"notes/other/linux/certs.md","localizedDate":"2023年1月17日","excerpt":"\\n<p>生成 Apache 所需的 SSL 证书。</p>\\n<div class=\\"language-shell\\" data-highlighter=\\"shiki\\" data-ext=\\"shell\\" data-title=\\"shell\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 生成CA认证机构的证书密钥key</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 需要设置密码，输入两次</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">openssl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> genrsa</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -des3</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -out</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ca.key</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 2048</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 比如 123456</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 去除密钥里的密码(可选)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 这里需要再输入一次原来设的密码</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">openssl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> rsa</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -in</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ca.key</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -out</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ca.key</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 用私钥ca.key生成CA认证机构的证书ca.crt</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 其实就是相当于用私钥生成公钥，再把公钥包装成证书</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">openssl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  req</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -new</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -x509</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -key</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ca.key</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -out</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ca.crt</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -days</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 3650</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 这个证书ca.crt有的又称为\\"根证书\\",因为可以用来认证其他证书</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 生成自己网站的密钥server.key</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">openssl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> genrsa</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -des3</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -out</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> server.key</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 2048</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">openssl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> rsa</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -in</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> server.key</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -out</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> server.key</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 比如 123456</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 生成自己网站证书的请求文件</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 如果找外面的CA机构认证，也是发个请求文件给他们</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 这个私钥就包含在请求文件中了，认证机构要用它来生成网站的公钥，然后包装成一个证书</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">openssl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> req</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -new</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -key</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> server.key</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -out</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> server.csr</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 使用虚拟的CA认证机构的证书ca.crt，来对自己网站的证书请求文件server.csr进行处理，生成签名后的证书server.crt</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 注意设置序列号和有效期（一般都设1年，这里设了10年）</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">openssl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> x509</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -req</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -in</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> server.csr</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -CA</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ca.crt</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -CAkey</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ca.key</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -set_serial</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 01</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -out</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> server.crt</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -days</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 3650</span></span></code></pre>\\n</div>","autoDesc":true}');export{p as comp,r as data};
