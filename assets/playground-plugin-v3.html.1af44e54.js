import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import{r as l,o as d,c as v,a as n,b as t,w as a,d as s,e as u}from"./app.d6982a11.js";const m={},b=n("h1",{id:"playground-\u63D2\u4EF6-v3",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#playground-\u63D2\u4EF6-v3","aria-hidden":"true"},"#"),s(" Playground \u63D2\u4EF6 v3")],-1),g=s("\u8BA9\u4F60\u7684 VuePress \u7AD9\u70B9\u4E2D\u7684 Markdown \u6587\u4EF6\u652F\u6301 "),y={href:"https://sfc.vuejs.org/",target:"_blank",rel:"noopener noreferrer"},h=s("Vue SFC Playground"),f=s(" \u7C7B\u4F3C\u7684\u4EE3\u7801\u6848\u4F8B\u3002"),w=s("\u4E0E "),x=s("v2"),_=s(" \u76F8\u6BD4\uFF0C\u91CD\u5199\u4E86 Markdown \u63D2\u4EF6\u7684\u903B\u8F91\uFF0C\u51CF\u5C11 container \u5D4C\u5957\u3002"),q=u('<p>\u4F7F\u7528 <code>@file</code>, <code>@imports</code>, <code>@settings</code> \u6765\u4EE3\u66FF\u539F\u6765\u7684 <code>::: file</code>, <code>::: imports</code>, <code>::: settings</code>, \u5176\u4ED6\u672A\u53D8\u3002</p><h2 id="\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E" aria-hidden="true">#</a> \u914D\u7F6E</h2>',2),L=s("\u4E0E "),M=s("v2"),C=s(" \u76F8\u540C\u3002"),T=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token comment"},"// .vuepress/config.ts"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" mdEnhance "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'vuepress-plugin-md-enhance'"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token punctuation"},"{"),s(`
  plugins`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token function"},"mdEnhance"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token comment"},"// \u914D\u7F6E\u4F60\u7684 playground"),s(`
      playground`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4F7F\u7528\u9ED8\u8BA4\u914D\u7F6E"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),P=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token comment"},"// .vuepress/config.js"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" mdEnhance "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'vuepress-plugin-md-enhance'"),n("span",{class:"token punctuation"},")"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token function"},"mdEnhance"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token comment"},"// \u914D\u7F6E\u4F60\u7684 playground"),s(`
      `),n("span",{class:"token literal-property property"},"playground"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4F7F\u7528\u9ED8\u8BA4\u914D\u7F6E"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),R=n("p",null,[s("\u4F60\u4E5F\u53EF\u4EE5\u4F7F\u7528 "),n("code",null,"PlaygroundOptions"),s(" \u81EA\u5B9A\u4E49\u4F60\u7684 playground \u914D\u7F6E\uFF1A")],-1),j=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token comment"},"// .vuepress/config.ts"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" mdEnhance "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'vuepress-plugin-md-enhance'"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token punctuation"},"{"),s(`
  plugins`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token function"},"mdEnhance"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token comment"},"// \u914D\u7F6E\u4F60\u7684 playground"),s(`
      playground`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        mode`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'external'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4F7F\u7528\u5916\u7F6E\u6A21\u5F0F"),s(`
        external`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
          base`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'https://sfc.vuejs.org/'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4F7F\u7528 vue sfc playground."),s(`
          defaultImportsMap`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'import-map.json'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        internal`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
          defaultImportsMap`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'import-map.json'"),n("span",{class:"token punctuation"},","),s(`
          showCode`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4E0D\u663E\u793A\u4EE3\u7801"),s(`
          showCompileOutput`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4E0D\u663E\u793A js, css, ssr \u9762\u677F"),s(`
          showImportMap`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u663E\u793A import map"),s(`
          clearConsole`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4E0D\u6E05\u7A7A\u63A7\u5236\u53F0"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),S=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token comment"},"// .vuepress/config.js"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" mdEnhance "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'vuepress-plugin-md-enhance'"),n("span",{class:"token punctuation"},")"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token function"},"mdEnhance"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token comment"},"// \u914D\u7F6E\u4F60\u7684 playground"),s(`
      `),n("span",{class:"token literal-property property"},"playground"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"mode"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'external'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4F7F\u7528\u5916\u7F6E\u6A21\u5F0F"),s(`
        `),n("span",{class:"token literal-property property"},"external"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token literal-property property"},"base"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'https://sfc.vuejs.org/'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4F7F\u7528 vue sfc playground."),s(`
          `),n("span",{class:"token literal-property property"},"defaultImportsMap"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'import-map.json'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"internal"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token literal-property property"},"defaultImportsMap"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'import-map.json'"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"showCode"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4E0D\u663E\u793A\u4EE3\u7801"),s(`
          `),n("span",{class:"token literal-property property"},"showCompileOutput"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4E0D\u663E\u793A js, css, ssr \u9762\u677F"),s(`
          `),n("span",{class:"token literal-property property"},"showImportMap"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u663E\u793A import map"),s(`
          `),n("span",{class:"token literal-property property"},"clearConsole"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// \u4E0D\u6E05\u7A7A\u63A7\u5236\u53F0"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),I=u(`<h2 id="\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B" aria-hidden="true">#</a> \u6848\u4F8B</h2><h3 id="\u5916\u7F6E\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u5916\u7F6E\u6A21\u5F0F" aria-hidden="true">#</a> \u5916\u7F6E\u6A21\u5F0F</h3><h4 id="\u57FA\u672C\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>::: playground \u57FA\u7840\u7528\u6CD5

@file App.vue

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">vue</span>
<span class="token code-block language-vue">&lt;script setup&gt;
import { ref } from &#39;vue&#39;

const msg = ref(&#39;Hello World!&#39;)
&lt;/script&gt;

&lt;template&gt;
  &lt;h1&gt;{{ msg }}&lt;/h1&gt;
  &lt;input v-model=&quot;msg&quot; /&gt;
&lt;/template&gt;</span>
<span class="token punctuation">\`\`\`</span></span>

:::
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u9AD8\u7EA7\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u7EA7\u7528\u6CD5" aria-hidden="true">#</a> \u9AD8\u7EA7\u7528\u6CD5</h4><p>\u672C\u793A\u4F8B\u5411\u4F60\u5C55\u793A\u5982\u4F55\u81EA\u5B9A\u4E49\u4F60\u7684 playground\u3002</p><ul><li>\u4F7F\u7528\u4F60\u81EA\u5DF1\u7684 playground</li><li>\u4F7F\u7528\u4F60\u81EA\u5DF1\u7684 import map</li><li>\u5E94\u7528\u989D\u5916\u7684\u914D\u7F6E\u5230\u4F60\u7684 playground</li></ul><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>::: playground \u9AD8\u7EA7\u7528\u6CD5
@file App.vue

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">vue</span>
<span class="token code-block language-vue">&lt;script setup&gt;
import { ref } from &#39;vue&#39;
import Comp from &#39;./Comp.vue&#39;

const msg = ref(&#39;Hello Playground!&#39;)
&lt;/script&gt;

&lt;template&gt;
  &lt;h1&gt;{{ msg }}&lt;/h1&gt;
  &lt;input v-model=&quot;msg&quot; /&gt;

  &lt;Comp /&gt;
&lt;/template&gt;</span>
<span class="token punctuation">\`\`\`</span></span>

@file Comp.vue

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">vue</span>
<span class="token code-block language-vue">&lt;template&gt;
  &lt;div&gt;Comp&lt;/div&gt;
  &lt;el-row class=&quot;mb-4&quot;&gt;
    &lt;el-button&gt;Default&lt;/el-button&gt;
    &lt;el-button type=&quot;primary&quot;&gt;Primary&lt;/el-button&gt;
    &lt;el-button type=&quot;success&quot;&gt;Success&lt;/el-button&gt;
    &lt;el-button type=&quot;info&quot;&gt;Info&lt;/el-button&gt;
    &lt;el-button type=&quot;warning&quot;&gt;Warning&lt;/el-button&gt;
    &lt;el-button type=&quot;danger&quot;&gt;Danger&lt;/el-button&gt;
    &lt;el-button&gt;\u4E2D\u6587&lt;/el-button&gt;
  &lt;/el-row&gt;
&lt;/template&gt;</span>
<span class="token punctuation">\`\`\`</span></span>

@imports user-imports.json

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">json</span>
<span class="token code-block language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;imports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lodash-es&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cdn.jsdelivr.net/npm/lodash-es@4.17.21/lodash.min.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span>
<span class="token punctuation">\`\`\`</span></span>

@settings

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">json</span>
<span class="token code-block language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;external&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;external&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://vue-sfc-playground.vercel.app/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;showOutput&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span>
<span class="token punctuation">\`\`\`</span></span>

:::
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5185\u7F6E\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u5185\u7F6E\u6A21\u5F0F" aria-hidden="true">#</a> \u5185\u7F6E\u6A21\u5F0F</h3><h4 id="\u5185\u7F6E\u6A21\u5F0F-\u57FA\u672C\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u5185\u7F6E\u6A21\u5F0F-\u57FA\u672C\u7528\u6CD5" aria-hidden="true">#</a> \u5185\u7F6E\u6A21\u5F0F \u57FA\u672C\u7528\u6CD5</h4><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>::: playground \u57FA\u7840\u7528\u6CD5
@file App.vue

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">vue</span>
<span class="token code-block language-vue">&lt;script setup&gt;
import { ref } from &#39;vue&#39;

const msg = ref(&#39;Hello Playground!&#39;)
&lt;/script&gt;

&lt;template&gt;
  &lt;h1&gt;{{ msg }}&lt;/h1&gt;
  &lt;input v-model=&quot;msg&quot; /&gt;
&lt;/template&gt;</span>
<span class="token punctuation">\`\`\`</span></span>

@settings

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">json</span>
<span class="token code-block language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;internal&quot;</span>
<span class="token punctuation">}</span></span>
<span class="token punctuation">\`\`\`</span></span>

:::
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5185\u7F6E\u6A21\u5F0F-\u9AD8\u7EA7\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u5185\u7F6E\u6A21\u5F0F-\u9AD8\u7EA7\u7528\u6CD5" aria-hidden="true">#</a> \u5185\u7F6E\u6A21\u5F0F \u9AD8\u7EA7\u7528\u6CD5</h4><p>\u663E\u793A playground \u7684 <code>JS</code>, <code>CSS</code>, <code>SSR</code> \u9762\u677F\uFF0C\u5E76\u663E\u793A\u4EE3\u7801\u7F16\u8F91\u5668\u3002</p><p>Playground \u7684 <code>key</code> \u662F\u81EA\u52A8\u4EA7\u751F\u7684\u3002\u5B83\u662F\u57FA\u4E8E\u6807\u9898\u8BA1\u7B97\u7684\u3002 \u4F60\u4E5F\u53EF\u4EE5\u81EA\u5DF1\u6307\u5B9A\u5B83\uFF0C\u4F7F\u7528 <code>playground#customId</code> \u5F62\u5F0F\u3002</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>::: playground#customId \u9AD8\u7EA7\u7528\u6CD5
@file App.vue

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">vue</span>
<span class="token code-block language-vue">&lt;script setup&gt;
import { ref } from &#39;vue&#39;

const msg = ref(&#39;Hello Playground!&#39;)
&lt;/script&gt;

&lt;template&gt;
  &lt;h1&gt;{{ msg }}&lt;/h1&gt;
  &lt;input v-model=&quot;msg&quot; /&gt;
&lt;/template&gt;</span>
<span class="token punctuation">\`\`\`</span></span>

@settings

<span class="token code"><span class="token punctuation">\`\`\`</span><span class="token code-language">json</span>
<span class="token code-block language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;internal&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;internal&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;showCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;showCompileOutput&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span>
<span class="token punctuation">\`\`\`</span></span>

:::
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="markdown-\u63D2\u4EF6\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#markdown-\u63D2\u4EF6\u4EE3\u7801" aria-hidden="true">#</a> Markdown \u63D2\u4EF6\u4EE3\u7801</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// playground.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> hash <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@vuepress/utils&#39;</span>

<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Options<span class="token punctuation">,</span> PluginWithOptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;markdown-it&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> RuleBlock <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;markdown-it/lib/parser_block&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> Renderer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;markdown-it/lib/renderer&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> Token <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;markdown-it/lib/token&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> PlaygroundOptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../../shared&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> PlaygroundFiles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../../shared/playground&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token constant">IMPORT_MAP_KEY</span><span class="token punctuation">,</span>
  <span class="token constant">PLAYGROUND_DEFAULT_SETTING</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../../shared/playground&#39;</span>

<span class="token keyword">const</span> extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;jsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;tsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PlaygroundData</span> <span class="token punctuation">{</span>
  id<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  files<span class="token operator">?</span><span class="token operator">:</span> PlaygroundFiles
  imports<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  settings<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  customData<span class="token operator">?</span><span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PlaygroundPluginOptions</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  component<span class="token operator">:</span> <span class="token builtin">string</span>
  playgroundOptions<span class="token operator">?</span><span class="token operator">:</span> PlaygroundOptions
  <span class="token function-variable function">getter</span><span class="token operator">:</span> <span class="token punctuation">(</span>
    tokens<span class="token operator">:</span> Token<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> Options<span class="token punctuation">,</span>
    env<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span>
    self<span class="token operator">:</span> Renderer
  <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token constant">AT_MARKER</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">@</span><span class="token template-punctuation string">\`</span></span>

<span class="token keyword">const</span> <span class="token constant">VALID_MARKERS</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;file&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;imports&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;settings&#39;</span><span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> playground<span class="token operator">:</span> PluginWithOptions<span class="token operator">&lt;</span>PlaygroundPluginOptions<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  md<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">,</span> component<span class="token punctuation">,</span> playgroundOptions<span class="token punctuation">,</span> getter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;playground&#39;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> <span class="token string">&#39;Playground&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    playgroundOptions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mode <span class="token operator">=</span> playgroundOptions<span class="token operator">?.</span>mode <span class="token operator">??</span> <span class="token constant">PLAYGROUND_DEFAULT_SETTING</span><span class="token punctuation">.</span>mode
  <span class="token keyword">const</span> defaultImportsMap <span class="token operator">=</span>
    mode <span class="token operator">===</span> <span class="token string">&#39;internal&#39;</span>
      <span class="token operator">?</span> playgroundOptions<span class="token operator">?.</span>internal<span class="token operator">?.</span>defaultImportsMap
      <span class="token operator">:</span> playgroundOptions<span class="token operator">?.</span>external<span class="token operator">?.</span>defaultImportsMap

  <span class="token keyword">const</span> playgroundRule<span class="token operator">:</span> <span class="token function-variable function">RuleBlock</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> startLine<span class="token punctuation">,</span> endLine<span class="token punctuation">,</span> silent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> start <span class="token operator">=</span> state<span class="token punctuation">.</span>bMarks<span class="token punctuation">[</span>startLine<span class="token punctuation">]</span> <span class="token operator">+</span> state<span class="token punctuation">.</span>tShift<span class="token punctuation">[</span>startLine<span class="token punctuation">]</span>
    <span class="token keyword">let</span> max <span class="token operator">=</span> state<span class="token punctuation">.</span>eMarks<span class="token punctuation">[</span>startLine<span class="token punctuation">]</span>

    <span class="token comment">// Check out the first character quickly,</span>
    <span class="token comment">// this should filter out most of non-containers</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>src<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&#39;:&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>

    <span class="token keyword">let</span> pos <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token number">1</span>

    <span class="token comment">// Check out the rest of the marker string</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;=</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>src<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&#39;:&#39;</span><span class="token punctuation">)</span> <span class="token keyword">break</span>
      pos <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> markerCount <span class="token operator">=</span> pos <span class="token operator">-</span> start

    <span class="token keyword">if</span> <span class="token punctuation">(</span>markerCount <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>

    <span class="token keyword">const</span> markup <span class="token operator">=</span> state<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> pos<span class="token punctuation">)</span>
    <span class="token keyword">const</span> params <span class="token operator">=</span> state<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> max<span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>containerName<span class="token punctuation">,</span> id<span class="token punctuation">]</span> <span class="token operator">=</span> params
      <span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;#&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> title <span class="token operator">=</span> params
      <span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token punctuation">(</span>id <span class="token operator">?</span> id<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>containerName<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> name<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>

    <span class="token comment">// Since start is found, we can report success here in validation mode</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>silent<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>

    <span class="token comment">// Search for the end of the block</span>
    <span class="token keyword">let</span> nextLine <span class="token operator">=</span> startLine
    <span class="token keyword">let</span> autoClosed <span class="token operator">=</span> <span class="token boolean">false</span>

    <span class="token comment">// Search for the end of the block</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>
      <span class="token comment">// unclosed block should be autoclosed by end of document.</span>
      <span class="token comment">// also block seems to be autoclosed by end of parent</span>
      nextLine <span class="token operator">&lt;</span> endLine
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      nextLine <span class="token operator">+=</span> <span class="token number">1</span>
      start <span class="token operator">=</span> state<span class="token punctuation">.</span>bMarks<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span> <span class="token operator">+</span> state<span class="token punctuation">.</span>tShift<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span>
      max <span class="token operator">=</span> state<span class="token punctuation">.</span>eMarks<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> max <span class="token operator">&amp;&amp;</span> state<span class="token punctuation">.</span>sCount<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span> <span class="token operator">&lt;</span> state<span class="token punctuation">.</span>blkIndent<span class="token punctuation">)</span>
        <span class="token comment">// non-empty line with negative indent should stop the list:</span>
        <span class="token comment">// - \`\`\`</span>
        <span class="token comment">//  test</span>
        <span class="token keyword">break</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>
        <span class="token comment">// match start</span>

        state<span class="token punctuation">.</span>src<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&#39;:&#39;</span> <span class="token operator">&amp;&amp;</span>
        <span class="token comment">// closing fence should be indented less than 4 spaces</span>
        state<span class="token punctuation">.</span>sCount<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span> <span class="token operator">-</span> state<span class="token punctuation">.</span>blkIndent <span class="token operator">&lt;</span> <span class="token number">4</span>
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// check rest of marker</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>pos <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> pos <span class="token operator">&lt;=</span> max<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>src<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&#39;:&#39;</span><span class="token punctuation">)</span> <span class="token keyword">break</span>

        <span class="token comment">// closing code fence must be at least as long as the opening one</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">-</span> start <span class="token operator">&gt;=</span> markerCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// make sure tail has spaces only</span>
          pos <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">skipSpaces</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// found!</span>
            autoClosed <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token keyword">break</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> oldParent <span class="token operator">=</span> state<span class="token punctuation">.</span>parentType
    <span class="token keyword">const</span> oldLineMax <span class="token operator">=</span> state<span class="token punctuation">.</span>lineMax

    <span class="token comment">// eslint-disable-next-line @typescript-eslint/ban-ts-comment</span>
    <span class="token comment">// @ts-expect-error</span>
    state<span class="token punctuation">.</span>parentType <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>

    <span class="token comment">// this will prevent lazy continuations from ever going past our end marker</span>
    state<span class="token punctuation">.</span>lineMax <span class="token operator">=</span> nextLine <span class="token operator">-</span> <span class="token punctuation">(</span>autoClosed <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> openToken <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_open</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> component<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

    openToken<span class="token punctuation">.</span>markup <span class="token operator">=</span> markup
    openToken<span class="token punctuation">.</span>block <span class="token operator">=</span> <span class="token boolean">true</span>
    openToken<span class="token punctuation">.</span>info <span class="token operator">=</span> title
    openToken<span class="token punctuation">.</span>meta <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> id<span class="token operator">?.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    openToken<span class="token punctuation">.</span>map <span class="token operator">=</span> <span class="token punctuation">[</span>startLine<span class="token punctuation">,</span> nextLine <span class="token operator">-</span> <span class="token punctuation">(</span>autoClosed <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

    state<span class="token punctuation">.</span>md<span class="token punctuation">.</span>block<span class="token punctuation">.</span><span class="token function">tokenize</span><span class="token punctuation">(</span>
      state<span class="token punctuation">,</span>
      startLine <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      nextLine <span class="token operator">-</span> <span class="token punctuation">(</span>autoClosed <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token keyword">const</span> closeToken <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_close</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> component<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

    closeToken<span class="token punctuation">.</span>markup <span class="token operator">=</span> state<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> pos<span class="token punctuation">)</span>
    closeToken<span class="token punctuation">.</span>block <span class="token operator">=</span> <span class="token boolean">true</span>

    state<span class="token punctuation">.</span>parentType <span class="token operator">=</span> oldParent
    state<span class="token punctuation">.</span>lineMax <span class="token operator">=</span> oldLineMax
    state<span class="token punctuation">.</span>line <span class="token operator">=</span> nextLine <span class="token operator">+</span> <span class="token punctuation">(</span>autoClosed <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> atMarkerRule <span class="token operator">=</span>
    <span class="token punctuation">(</span>markerName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> RuleBlock <span class="token operator">=&gt;</span>
    <span class="token punctuation">(</span>state<span class="token punctuation">,</span> startLine<span class="token punctuation">,</span> endLine<span class="token punctuation">,</span> silent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> start <span class="token operator">=</span> state<span class="token punctuation">.</span>bMarks<span class="token punctuation">[</span>startLine<span class="token punctuation">]</span> <span class="token operator">+</span> state<span class="token punctuation">.</span>tShift<span class="token punctuation">[</span>startLine<span class="token punctuation">]</span>
      <span class="token keyword">let</span> max <span class="token operator">=</span> state<span class="token punctuation">.</span>eMarks<span class="token punctuation">[</span>startLine<span class="token punctuation">]</span>

      <span class="token keyword">const</span> atMarker <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">AT_MARKER</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>markerName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>

      <span class="token comment">/*
       * Check out the first character quickly,
       * this should filter out most of non-uml blocks
       */</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&#39;@&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>

      <span class="token keyword">let</span> index

      <span class="token comment">// Check out the rest of the marker string</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> atMarker<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>atMarker<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">!==</span> state<span class="token punctuation">.</span>src<span class="token punctuation">[</span>start <span class="token operator">+</span> index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>

      <span class="token keyword">const</span> markup <span class="token operator">=</span> state<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> start <span class="token operator">+</span> index<span class="token punctuation">)</span>
      <span class="token keyword">const</span> info <span class="token operator">=</span> state<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start <span class="token operator">+</span> index<span class="token punctuation">,</span> max<span class="token punctuation">)</span>

      <span class="token comment">// Since start is found, we can report success here in validation mode</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>silent<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>

      <span class="token keyword">let</span> nextLine <span class="token operator">=</span> startLine
      <span class="token keyword">let</span> autoClosed <span class="token operator">=</span> <span class="token boolean">false</span>

      <span class="token comment">// Search for the end of the block</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>
        <span class="token comment">// unclosed block should be autoclosed by end of document.</span>
        <span class="token comment">// also block seems to be autoclosed by end of parent</span>
        nextLine <span class="token operator">&lt;</span> endLine
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nextLine <span class="token operator">+=</span> <span class="token number">1</span>
        start <span class="token operator">=</span> state<span class="token punctuation">.</span>bMarks<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span> <span class="token operator">+</span> state<span class="token punctuation">.</span>tShift<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span>
        max <span class="token operator">=</span> state<span class="token punctuation">.</span>eMarks<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> max <span class="token operator">&amp;&amp;</span> state<span class="token punctuation">.</span>sCount<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span> <span class="token operator">&lt;</span> state<span class="token punctuation">.</span>blkIndent<span class="token punctuation">)</span>
          <span class="token comment">// non-empty line with negative indent should stop the list:</span>
          <span class="token comment">// - \`\`\`</span>
          <span class="token comment">//  test</span>
          <span class="token keyword">break</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>
          <span class="token comment">// match start</span>
          state<span class="token punctuation">.</span>src<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token constant">AT_MARKER</span> <span class="token operator">&amp;&amp;</span>
          <span class="token comment">// marker should not be indented with respect of opening fence</span>
          state<span class="token punctuation">.</span>sCount<span class="token punctuation">[</span>nextLine<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> state<span class="token punctuation">.</span>sCount<span class="token punctuation">[</span>startLine<span class="token punctuation">]</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> openMakerMatched <span class="token operator">=</span> <span class="token boolean">true</span>

          <span class="token keyword">for</span> <span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> atMarker<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>atMarker<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">!==</span> state<span class="token punctuation">.</span>src<span class="token punctuation">[</span>start <span class="token operator">+</span> index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              openMakerMatched <span class="token operator">=</span> <span class="token boolean">false</span>
              <span class="token keyword">break</span>
            <span class="token punctuation">}</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span>openMakerMatched<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// found!</span>
            autoClosed <span class="token operator">=</span> <span class="token boolean">true</span>
            nextLine <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">break</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">const</span> oldParent <span class="token operator">=</span> state<span class="token punctuation">.</span>parentType
      <span class="token keyword">const</span> oldLineMax <span class="token operator">=</span> state<span class="token punctuation">.</span>lineMax

      <span class="token comment">// eslint-disable-next-line @typescript-eslint/ban-ts-comment</span>
      <span class="token comment">// @ts-expect-error</span>
      state<span class="token punctuation">.</span>parentType <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>markerName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>

      <span class="token comment">// this will prevent lazy continuations from ever going past our end marker</span>
      state<span class="token punctuation">.</span>lineMax <span class="token operator">=</span> nextLine

      <span class="token keyword">const</span> openToken <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>markerName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_open</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token string">&#39;template&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

      openToken<span class="token punctuation">.</span>block <span class="token operator">=</span> <span class="token boolean">true</span>
      openToken<span class="token punctuation">.</span>markup <span class="token operator">=</span> markup
      openToken<span class="token punctuation">.</span>info <span class="token operator">=</span> info<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token comment">// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access</span>
      openToken<span class="token punctuation">.</span>map <span class="token operator">=</span> <span class="token punctuation">[</span>startLine<span class="token punctuation">,</span> nextLine<span class="token punctuation">]</span>

      state<span class="token punctuation">.</span>md<span class="token punctuation">.</span>block<span class="token punctuation">.</span><span class="token function">tokenize</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> startLine <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> nextLine<span class="token punctuation">)</span>

      <span class="token keyword">const</span> closeToken <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>markerName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_close</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token string">&#39;template&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

      closeToken<span class="token punctuation">.</span>block <span class="token operator">=</span> <span class="token boolean">true</span>
      closeToken<span class="token punctuation">.</span>markup <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>

      state<span class="token punctuation">.</span>parentType <span class="token operator">=</span> oldParent
      state<span class="token punctuation">.</span>lineMax <span class="token operator">=</span> oldLineMax
      state<span class="token punctuation">.</span>line <span class="token operator">=</span> nextLine <span class="token operator">+</span> <span class="token punctuation">(</span>autoClosed <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span>

      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>

  md<span class="token punctuation">.</span>block<span class="token punctuation">.</span>ruler<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token string">&#39;fence&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> playgroundRule<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    alt<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;paragraph&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;reference&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blockquote&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;list&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token constant">VALID_MARKERS</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// WARNING:  Here we use an internal variable to make sure tab rule is not registered</span>
    <span class="token comment">// eslint-disable-next-line @typescript-eslint/ban-ts-comment</span>
    <span class="token comment">// @ts-ignore</span>
    <span class="token comment">// eslint-disable-next-line</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>md<span class="token punctuation">.</span>block<span class="token punctuation">.</span>ruler<span class="token punctuation">.</span>__rules__<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name <span class="token operator">===</span> <span class="token string">&#39;marker&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      md<span class="token punctuation">.</span>block<span class="token punctuation">.</span>ruler<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token string">&#39;fence&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;tab&#39;</span><span class="token punctuation">,</span> <span class="token function">atMarkerRule</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        alt<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;paragraph&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;reference&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blockquote&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;list&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  md<span class="token punctuation">.</span>renderer<span class="token punctuation">.</span>rules<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_open</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
    tokens<span class="token punctuation">,</span>
    index<span class="token punctuation">,</span>
    options<span class="token punctuation">,</span>
    env<span class="token punctuation">,</span>
    self
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> meta<span class="token punctuation">,</span> info <span class="token punctuation">}</span> <span class="token operator">=</span> tokens<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token keyword">const</span> hashKey <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>info<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
    <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">playground-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">hash</span><span class="token punctuation">(</span>hashKey<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>

    <span class="token keyword">const</span> playgroundData<span class="token operator">:</span> PlaygroundData <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment</span>
      id<span class="token operator">:</span> meta<span class="token punctuation">.</span>id <span class="token operator">?</span> meta<span class="token punctuation">.</span>id <span class="token operator">:</span> key<span class="token punctuation">,</span>
      title<span class="token operator">:</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">,</span>
      files<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      customData<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> customData <span class="token operator">=</span> <span class="token function">getter</span><span class="token punctuation">(</span>tokens<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options<span class="token punctuation">,</span> env<span class="token punctuation">,</span> self<span class="token punctuation">)</span>

    playgroundData<span class="token punctuation">.</span>customData<span class="token operator">?.</span><span class="token function">concat</span><span class="token punctuation">(</span>customData<span class="token punctuation">)</span>

    <span class="token keyword">let</span> settings<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token keyword">let</span> configKey<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> isSettings <span class="token operator">=</span> <span class="token boolean">false</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> index<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> tokens<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> block<span class="token punctuation">,</span> type<span class="token punctuation">,</span> info<span class="token punctuation">,</span> content <span class="token punctuation">}</span> <span class="token operator">=</span> tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>block<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_close</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">break</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_open</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">continue</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;file_open&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> fileName <span class="token operator">=</span> info

          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fileName <span class="token operator">||</span> fileName<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span>
          <span class="token punctuation">}</span>
          configKey <span class="token operator">=</span> fileName
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;imports_open&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> fileName <span class="token operator">=</span> info

          <span class="token keyword">if</span> <span class="token punctuation">(</span>fileName <span class="token operator">&amp;&amp;</span> fileName<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            configKey <span class="token operator">=</span> fileName
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            configKey <span class="token operator">=</span> defaultImportsMap <span class="token operator">||</span> <span class="token constant">IMPORT_MAP_KEY</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;settings_open&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          isSettings <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>
          type <span class="token operator">===</span> <span class="token string">&#39;file_close&#39;</span> <span class="token operator">||</span>
          type <span class="token operator">===</span> <span class="token string">&#39;imports_close&#39;</span> <span class="token operator">||</span>
          type <span class="token operator">===</span> <span class="token string">&#39;settings_close&#39;</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_empty</span><span class="token template-punctuation string">\`</span></span>
          tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token boolean">true</span>
          <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>content<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_empty</span><span class="token template-punctuation string">\`</span></span>
          tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token boolean">true</span>
          <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>isSettings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;fence&#39;</span> <span class="token operator">&amp;&amp;</span> info <span class="token operator">===</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            settings <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\s+|\\s+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\/+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
            playgroundData<span class="token punctuation">.</span>settings <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>settings<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;fence&#39;</span> <span class="token operator">&amp;&amp;</span> extensions<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> configKey<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            playgroundData<span class="token punctuation">.</span>files<span class="token operator">!</span><span class="token punctuation">[</span>configKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
              lang<span class="token operator">:</span> info<span class="token punctuation">,</span>
              content<span class="token operator">:</span> content<span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_empty</span><span class="token template-punctuation string">\`</span></span>
        tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>component<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> key=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>playgroundData<span class="token punctuation">.</span>id<span class="token operator">!</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;
        id=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>playgroundData<span class="token punctuation">.</span>id<span class="token operator">!</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;
        title=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>playgroundData<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;
        settings=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>playgroundData<span class="token punctuation">.</span>settings <span class="token operator">||</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">&#39;{}&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;
        config=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>playgroundData<span class="token punctuation">.</span>files<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;
      &gt;\\n</span><span class="token template-punctuation string">\`</span></span>
  <span class="token punctuation">}</span>

  md<span class="token punctuation">.</span>renderer<span class="token punctuation">.</span>rules<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_close</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>component<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;\\n</span><span class="token template-punctuation string">\`</span></span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17);function $(A,N){const r=l("ExternalLinkIcon"),i=l("RouterLink"),c=l("CodeTabs");return d(),v("div",null,[b,n("p",null,[g,n("a",y,[h,t(r)]),f]),n("p",null,[w,t(i,{to:"/posts/theme/playground-plugin-v2.html"},{default:a(()=>[x]),_:1}),_]),q,n("p",null,[L,t(i,{to:"/posts/theme/playground-plugin-v2.html"},{default:a(()=>[M]),_:1}),C]),t(c,{data:[{title:"TS"},{title:"JS"}],"tab-id":"config"},{tab0:a(({title:e,value:p,isActive:o})=>[T]),tab1:a(({title:e,value:p,isActive:o})=>[P]),_:1}),R,t(c,{data:[{title:"TS"},{title:"JS"}],"tab-id":"config"},{tab0:a(({title:e,value:p,isActive:o})=>[j]),tab1:a(({title:e,value:p,isActive:o})=>[S]),_:1}),I])}var E=k(m,[["render",$],["__file","playground-plugin-v3.html.vue"]]);export{E as default};
