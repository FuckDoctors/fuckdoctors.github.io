import{_ as i,r as o,o as c,c as l,a as e,b as s,d as a,e as p,h as t}from"./app-DTOxIsMI.js";const r={},d=e("h1",{id:"å–æ¶ˆ-vercel-å‘å¸ƒ",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#å–æ¶ˆ-vercel-å‘å¸ƒ"},[e("span",null,"å–æ¶ˆ Vercel å‘å¸ƒ")])],-1),u=e("p",null,[s("åœ¨ Github Actions ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§åœ° å–æ¶ˆ workflow çš„æ‰§è¡Œï¼Œæ¯”å¦‚ åœ¨ git message ä¸­ å¡«å†™ [skip ci] æˆ–è€… [ci skip] å³å¯è¾¾åˆ°ç›®çš„ã€‚"),e("br"),s(" ä½†æ˜¯ï¼Œåœ¨ vercel ä¸­ï¼Œè¿™ç§æ–¹æ³•ä¸èµ·ä½œç”¨ã€‚")],-1),m=e("p",null,"æœç´¢äº†ä¸€ä¸‹èµ„æ–™ï¼Œå‘ç° vercel ä¸­ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¥å®ç°ã€‚",-1),v={href:"https://vercel.com/support/articles/how-do-i-use-the-ignored-build-step-field-on-vercel",target:"_blank",rel:"noopener noreferrer"},k={href:"https://github.com/vercel/vercel/discussions/5765",target:"_blank",rel:"noopener noreferrer"},h=t(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&#39;echo &quot;$VERCEL_GIT_COMMIT_MESSAGE&quot; | grep -iE &quot;\\[skip ci\\]|\\[ci skip\\]&quot;&#39;</span>
<span class="token comment"># å•ç‹¬å¿½ç•¥ docs-ci</span>
<span class="token comment"># bash -c &#39;echo &quot;$VERCEL_GIT_COMMIT_MESSAGE&quot; | grep -iE &quot;\\[skip (docs-)?ci\\]|\\[(docs-)?ci skip\\]&quot;&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),b=t(`<p>ä¹Ÿå¯ä»¥æŒ‰ç…§ä¸Šé¢å†™çš„æ–¹å¼ï¼Œå†™ä¸€ä¸ªè„šæœ¬æ¥åšã€‚ä¸‹é¢æ˜¯ä¸ºäº†ç•™ä¸‹è®°å½•ï¼Œæ‰€ä»¥å†™äº†ä¸€ä¸ªæ¯”è¾ƒç¹ççš„è„šæœ¬ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># How do I use the &quot;Ignored Build Step&quot; field on Vercel?</span>
<span class="token comment"># https://vercel.com/support/articles/how-do-i-use-the-ignored-build-step-field-on-vercel</span>

<span class="token comment"># Skip deploys for commits that have [skip-ci] in the name</span>
<span class="token comment"># https://github.com/vercel/vercel/discussions/5765</span>
<span class="token comment"># å¯ä»¥åœ¨&quot;Ignored Build Step&quot;ä¸­ç›´æ¥ä½¿ç”¨ï¼š bash -c &#39;echo &quot;$VERCEL_GIT_COMMIT_MESSAGE&quot; | grep -iE &quot;\\[skip ci\\]|\\[ci skip\\]&quot;&#39;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;VERCEL_GIT_COMMIT_REF: <span class="token variable">$VERCEL_GIT_COMMIT_REF</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;VERCEL_GIT_COMMIT_MESSAGE: <span class="token variable">$VERCEL_GIT_COMMIT_MESSAGE</span>&quot;</span>

<span class="token comment"># grepé€šè¿‡è¿”å›ä¸€ä¸ªçŠ¶æ€å€¼æ¥è¯´æ˜æœç´¢çš„çŠ¶æ€ï¼Œ</span>
<span class="token comment"># å¦‚æœæ¨¡æ¿æœç´¢æˆåŠŸï¼Œåˆ™è¿”å›0ï¼Œå¦‚æœæœç´¢ä¸æˆåŠŸï¼Œåˆ™è¿”å›1ï¼Œ</span>
<span class="token comment"># å¦‚æœæœç´¢çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›2ã€‚</span>
<span class="token comment"># # è¿‡æ»¤messageçš„ç¬¬ä¸€è¡Œæ˜¯å¦åŒ…å«[skip ci]æˆ–è€…[ci skip]</span>
<span class="token comment"># echo &quot;$VERCEL_GIT_COMMIT_MESSAGE&quot; | head -n 1 | grep -iE &quot;\\[skip ci\\]|\\[ci skip\\]&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$VERCEL_GIT_COMMIT_MESSAGE</span>&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-iE</span> <span class="token string">&quot;\\[skip ci\\]|\\[ci skip\\]&quot;</span>
<span class="token comment"># echo &quot;$VERCEL_GIT_COMMIT_MESSAGE&quot; | grep -iE &quot;\\[skip (docs-)?ci\\]|\\[(docs-)?ci skip\\]&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$?</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;0&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token comment"># Don&#39;t build</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;ğŸ›‘ - Build cancelled&quot;</span>
  <span class="token builtin class-name">exit</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">else</span>
  <span class="token comment"># Proceed with the build</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;âœ… - Build can proceed&quot;</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">fi</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function _(g,E){const n=o("ExternalLinkIcon");return c(),l("div",null,[d,u,m,e("ul",null,[e("li",null,[e("a",v,[s('How do I use the "Ignored Build Step" field on Vercel?'),a(n)])]),e("li",null,[e("a",k,[s("Skip deploys for commits that have [skip-ci] in the name"),a(n)])])]),h,p(" more "),b])}const f=i(r,[["render",_],["__file","skip-ci-for-vercel.html.vue"]]),I=JSON.parse(`{"path":"/posts/devops/skip-ci-for-vercel.html","title":"å–æ¶ˆ Vercel å‘å¸ƒ","lang":"zh-CN","frontmatter":{"article":true,"date":"2022-04-13T00:00:00.000Z","category":["devops"],"tag":["devops","ci/cd"],"head":[["meta",{"name":"description","content":"Vercel ä¸­è·³è¿‡å‘å¸ƒ"}],["meta",{"property":"og:url","content":"https://www.zhaobc.site/posts/devops/skip-ci-for-vercel.html"}],["meta",{"property":"og:site_name","content":"èµµæ–Œçš„å°ç«™"}],["meta",{"property":"og:title","content":"å–æ¶ˆ Vercel å‘å¸ƒ"}],["meta",{"property":"og:description","content":"å–æ¶ˆ Vercel å‘å¸ƒ åœ¨ Github Actions ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§åœ° å–æ¶ˆ workflow çš„æ‰§è¡Œï¼Œæ¯”å¦‚ åœ¨ git message ä¸­ å¡«å†™ [skip ci] æˆ–è€… [ci skip] å³å¯è¾¾åˆ°ç›®çš„ã€‚ ä½†æ˜¯ï¼Œåœ¨ vercel ä¸­ï¼Œè¿™ç§æ–¹æ³•ä¸èµ·ä½œç”¨ã€‚ æœç´¢äº†ä¸€ä¸‹èµ„æ–™ï¼Œå‘ç° vercel ä¸­ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¥å®ç°ã€‚ How do I use ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-29T11:10:06.000Z"}],["meta",{"property":"article:author","content":"Zhao Bin"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"ci/cd"}],["meta",{"property":"article:published_time","content":"2022-04-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-29T11:10:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"å–æ¶ˆ Vercel å‘å¸ƒ\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-04-13T00:00:00.000Z\\",\\"dateModified\\":\\"2024-02-29T11:10:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Zhao Bin\\",\\"url\\":\\"zhaobc.site\\",\\"email\\":\\"hi@zhaobc.site\\"}]}"]],"description":"å–æ¶ˆ Vercel å‘å¸ƒ åœ¨ Github Actions ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§åœ° å–æ¶ˆ workflow çš„æ‰§è¡Œï¼Œæ¯”å¦‚ åœ¨ git message ä¸­ å¡«å†™ [skip ci] æˆ–è€… [ci skip] å³å¯è¾¾åˆ°ç›®çš„ã€‚ ä½†æ˜¯ï¼Œåœ¨ vercel ä¸­ï¼Œè¿™ç§æ–¹æ³•ä¸èµ·ä½œç”¨ã€‚ æœç´¢äº†ä¸€ä¸‹èµ„æ–™ï¼Œå‘ç° vercel ä¸­ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¥å®ç°ã€‚ How do I use ..."},"headers":[],"git":{"createdTime":1709205006000,"updatedTime":1709205006000,"contributors":[{"name":"Zhao Bin","email":"413853119@qq.com","commits":1}]},"readingTime":{"minutes":1.31,"words":393},"filePathRelative":"posts/devops/skip-ci-for-vercel.md","localizedDate":"2022å¹´4æœˆ13æ—¥","excerpt":"\\n<p>åœ¨ Github Actions ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§åœ° å–æ¶ˆ workflow çš„æ‰§è¡Œï¼Œæ¯”å¦‚ åœ¨ git message ä¸­ å¡«å†™ [skip ci] æˆ–è€… [ci skip] å³å¯è¾¾åˆ°ç›®çš„ã€‚<br>\\nä½†æ˜¯ï¼Œåœ¨ vercel ä¸­ï¼Œè¿™ç§æ–¹æ³•ä¸èµ·ä½œç”¨ã€‚</p>\\n<p>æœç´¢äº†ä¸€ä¸‹èµ„æ–™ï¼Œå‘ç° vercel ä¸­ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¥å®ç°ã€‚</p>\\n<ul>\\n<li><a href=\\"https://vercel.com/support/articles/how-do-i-use-the-ignored-build-step-field-on-vercel\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">How do I use the \\"Ignored Build Step\\" field on Vercel?</a></li>\\n<li><a href=\\"https://github.com/vercel/vercel/discussions/5765\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Skip deploys for commits that have [skip-ci] in the name</a></li>\\n</ul>\\n<div class=\\"language-bash\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"token function\\">bash</span> <span class=\\"token parameter variable\\">-c</span> <span class=\\"token string\\">'echo \\"$VERCEL_GIT_COMMIT_MESSAGE\\" | grep -iE \\"\\\\[skip ci\\\\]|\\\\[ci skip\\\\]\\"'</span>\\n<span class=\\"token comment\\"># å•ç‹¬å¿½ç•¥ docs-ci</span>\\n<span class=\\"token comment\\"># bash -c 'echo \\"$VERCEL_GIT_COMMIT_MESSAGE\\" | grep -iE \\"\\\\[skip (docs-)?ci\\\\]|\\\\[(docs-)?ci skip\\\\]\\"'</span>\\n</code></pre></div>","autoDesc":true}`);export{f as comp,I as data};
